<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Kuesioner Financial Mindfulness</title>
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <meta name="description" content="Isi kuesioner ini untuk mengukur tingkat financial mindfulness Anda dan dapatkan skornya.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary-color: #1a73e8; /* Biru Google */
      --secondary-color: #34a853; /* Hijau Google */
      --tertiary-color: #fbbc05; /* Kuning Google */
      --background-light: #f8f9fa; /* Abu-abu terang */
      --text-dark: #202124; /* Abu-abu gelap */
      --text-light: #5f6368; /* Abu-abu medium */
      --card-background: #ffffff;
      --font-family: 'Poppins', sans-serif;
    }
    body {
      font-family: var(--font-family);
      margin: 0;
      padding: 24px;
      background-color: var(--background-light);
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      flex-direction: column;
    }
    .container {
      max-width: 800px;
      width: 100%;
      background-color: var(--card-background);
      padding: 40px;
      border-radius: 16px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      border: 1px solid #e0e0e0;
      text-align: center;
    }
    .page {
      display: none; /* Sembunyikan semua halaman secara default */
      text-align: left;
    }
    .page.active {
      display: block; /* Tampilkan halaman yang aktif */
    }

    /* Styles untuk Halaman Sambutan */
    #intro-page h1 {
      font-size: 2.5rem;
      color: var(--primary-color);
      margin-bottom: 20px;
    }
    #intro-page h2 {
      font-size: 1.5rem;
      color: var(--text-dark);
      margin-top: 2rem;
    }
    #intro-page p, #intro-page li {
      font-size: 1.1rem;
      color: var(--text-dark);
      line-height: 1.6;
    }
    #intro-page ul {
      list-style-position: inside;
      padding-left: 0;
      text-align: center;
      margin-bottom: 2rem;
    }
    #intro-page li {
      font-size: 1rem;
      color: var(--text-light);
    }
    #intro-page button {
      padding: 15px 30px;
      border: none;
      border-radius: 50px;
      background-color: var(--secondary-color);
      color: white;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      margin-top: 2rem;
    }
    #intro-page button:hover {
      background-color: #2b914a;
      transform: translateY(-3px);
      box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);
    }
    .button-group {
      text-align: center;
    }
    .header-image {
        max-width: 100%;
        height: auto;
        margin-bottom: 20px;
    }
    .form-group {
      text-align: left;
      margin-bottom: 20px;
    }
    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: var(--text-dark);
    }
    .form-group input {
      width: 100%;
      padding: 12px;
      border-radius: 8px;
      border: 1px solid #ccc;
      box-sizing: border-box;
      font-family: var(--font-family);
      font-size: 1rem;
    }

    /* Styles untuk Halaman Kuesioner */
    #quiz-page h1 {
      color: var(--primary-color);
      font-size: 2.2rem;
      margin-bottom: 0.5rem;
      font-weight: 600;
      text-align: center;
    }
    #quiz-page .intro {
      font-style: italic;
      color: var(--text-light);
      margin-top: 0;
      line-height: 1.6;
      text-align: center;
    }
    .question {
      margin-bottom: 25px;
      padding: 20px;
      border-radius: 12px;
      background: var(--background-light);
      border: 1px solid #e8e8e8;
      transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
    }
    .question:hover {
      transform: translateY(-5px);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
    }
    .question strong {
      display: block;
      margin-bottom: 1rem;
      color: var(--text-dark);
      font-weight: 600;
      font-size: 1.1rem;
    }
    .scale {
      display: flex;
      gap: 15px;
      flex-wrap: wrap;
      justify-content: center;
    }
    .scale label {
      display: flex;
      flex-direction: column;
      align-items: center;
      cursor: pointer;
      font-size: 1.5rem;
      color: var(--text-light);
      transition: color 0.2s, transform 0.2s;
      padding: 5px;
      border-radius: 8px;
    }
    .scale label:hover {
      transform: scale(1.1);
      color: var(--primary-color);
    }
    .scale input[type="radio"] {
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
      width: 0;
      height: 0;
      position: absolute;
    }
    .scale input[type="radio"]:checked + .emoji-option::before {
      content: 'âœ…';
      display: block;
      font-size: 1rem;
      position: absolute;
      top: 0;
      left: 0;
    }
    .emoji-option {
      font-size: 1.5rem;
    }
    .emoji-option + span {
      margin-top: 5px;
      font-size: 0.9rem;
      font-weight: normal;
    }
    .section-title {
      font-size: 1.5rem;
      font-weight: 600;
      color: var(--primary-color);
      margin-top: 3rem;
      margin-bottom: 1.5rem;
    }
    .flex-group {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      gap: 15px;
      margin-top: 2rem;
    }
    button {
      padding: 12px 24px;
      border: none;
      border-radius: 50px;
      cursor: pointer;
      font-size: 1rem;
      font-weight: 600;
      transition: all 0.3s ease;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }
    button#submitBtn {
      background: var(--secondary-color);
      color: white;
    }
    button#submitBtn:hover {
      background: #2b914a;
      transform: translateY(-3px);
      box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);
    }
    button#downloadBtn {
      background: var(--tertiary-color);
      color: white;
    }
    button#downloadBtn:hover {
      background: #e6a700;
      transform: translateY(-3px);
      box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);
    }
    .small-text {
      font-size: 0.85em;
      color: var(--text-dark);
      margin-left: auto;
    }

    /* Styles untuk Halaman Hasil */
    #result-page h1 {
      font-size: 2.2rem;
      color: var(--primary-color);
      margin-bottom: 20px;
    }
    #score-display {
      font-size: 3rem;
      font-weight: 600;
      color: var(--secondary-color);
      margin-bottom: 10px;
    }
    #category-display {
      font-size: 1.8rem;
      font-weight: 600;
      margin-bottom: 20px;
    }
    #category-description {
      font-size: 1rem;
      color: var(--text-light);
      line-height: 1.6;
      max-width: 600px;
      margin: 0 auto 30px auto;
    }
    .result-icon {
      font-size: 4rem;
      margin-bottom: 20px;
    }
    #result-page .button {
      padding: 12px 24px;
      border: none;
      border-radius: 50px;
      background-color: var(--primary-color);
      color: white;
      font-size: 1rem;
      font-weight: 600;
      text-decoration: none;
      transition: all 0.3s ease;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      display: inline-block;
    }
    #result-page .button:hover {
      background-color: #165ab7;
      transform: translateY(-3px);
      box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);
    }

    footer {
      margin-top: 3rem;
      text-align: center;
      font-size: 0.8em;
      color: var(--text-light);
      padding-top: 1rem;
      border-top: 1px solid #e0e0e0;
    }

    @media (max-width: 600px) {
      body {
        padding: 10px;
      }
      .container {
        padding: 20px;
      }
      .flex-group {
        flex-direction: column;
        align-items: stretch;
      }
      .small-text {
        text-align: center;
        margin-left: 0;
      }
      button {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div id="intro-page" class="page active">
      <img src="44091635-c586-4e30-a157-eb173f4f3a88.jpg" alt="RASA Refleksi Atas Sikap Anggaran" class="header-image">
      <h1>Halo SemuanyağŸ‘‹!</h1>
      <p>Selamat Pagi/Siang/Malamâœ¨ï¸</p>
      
      <div class="form-group">
        <label for="name">Nama Lengkap:</label>
        <input type="text" id="name" name="nama" required>
      </div>
      <div class="form-group">
        <label for="nrp">NRP:</label>
        <input type="text" id="nrp" name="nrp" required>
      </div>
      <div class="form-group">
        <label for="fakultas">Fakultas:</label>
        <input type="text" id="fakultas" name="fakultas" required>
      </div>
      <div class="form-group">
        <label for="angkatan">Angkatan:</label>
        <input type="text" id="angkatan" name="angkatan" pattern="[0-9]*" inputmode="numeric" required>
      </div>

      <p>Perkenalkan, kami dari Kelompok 5 KP B Mata Kuliah Pengukuran Skala Psikologi Fakultas Psikologi Universitas Surabaya, yang beranggotakan:</p>
      <ul>
        <li>Kathreen Belinda Gondo - 150124026</li>
        <li>Dhea Gracea Chandra - 150124133</li>
        <li>Siti Maysaroh Putri Rachma - 150124190</li>
        <li>Meilinda Yensen - 150124194</li>
        <li>Sifra Greace Manalu - 150124204</li>
      </ul>
      <p>Kami sedang melakukan penelitian mengenai **Financial Mindfulness**, yaitu sejauh mana mahasiswa sadar akan kondisi keuangan mereka saat ini, misalnya terkait uang saku, biaya kuliah, pengeluaran sehari-hari, atau tabungan.</p>
      <p>Survei ini hanya membutuhkan waktu sekitar 5â€“7 menit.</p>
      <h2>Kriteria partisipan:</h2>
      <ul>
        <li>Mahasiswa Universitas Surabaya</li>
        <li>Sedang menempuh perkuliahan S1</li>
      </ul>
      <p>Jika Anda memenuhi kriteria di atas, kami mohon partisipasinya untuk mengisi survei singkat kami dengan memilih jawaban â€œBersediaâ€ pada bagian persetujuan di bawah ini.</p>
      <p>Partisipasi Anda dalam penelitian ini bersifat sukarela sepenuhnya. Tidak ada paksaan dalam bentuk apapun untuk mengikuti penelitian ini. Seluruh data dan informasi yang Anda berikan akan dijaga kerahasiaannya. Data hanya akan digunakan untuk keperluan penelitian dan tidak akan dipublikasikan secara individu.</p>
      <p>âœ¨ Terima kasih banyak atas partisipasi dan waktunya! âœ¨</p>
      <div class="button-group">
        <button id="startBtn">Bersedia</button>
      </div>
    </div>

    <div id="quiz-page" class="page">
      <header>
        <h1>Kuesioner Financial Mindfulness ğŸ§ ğŸ’°</h1>
        <p class="intro">
          Petunjuk: Pilih satu jawaban yang paling sesuai untuk setiap pernyataan. ğŸ‘‡<br>
          <span class="emoji-scale">Skala: Sangat Tidak Setuju=ğŸ˜, Tidak Setuju=ğŸ˜”, Netral=ğŸ™‚, Setuju=ğŸ˜„, Sangat Setuju=ğŸ¤©</span>
        </p>
      </header>
      <main>
        <form id="quizForm" action="https://formspree.io/f/xkgqneyz" method="POST">
          <input type="hidden" name="nama" id="hiddenNameInput">
          <input type="hidden" name="nrp" id="hiddenNRPInput">
          <input type="hidden" name="fakultas" id="hiddenFakultasInput">
          <input type="hidden" name="angkatan" id="hiddenAngkatanInput">
          <input type="hidden" name="total_score" id="hiddenTotalScore">
          <input type="hidden" name="category" id="hiddenCategory">

          <h2 class="section-title">Kesadaran (Awareness)</h2>
          <div class="question">
            <p><strong>1.</strong> Ketika saya ingin membeli sesuatu, saya tahu persis berapa banyak uang yang saya miliki untuk dibelanjakan.</p>
            <div class="scale" role="radiogroup" aria-labelledby="q1_label">
              <span id="q1_label" class="sr-only"></span>
              <label>
                <input type="radio" name="q1" value="1" required>
                <span class="emoji-option">ğŸ˜</span>
              </label>
              <label>
                <input type="radio" name="q1" value="2" required>
                <span class="emoji-option">ğŸ˜”</span>
              </label>
              <label>
                <input type="radio" name="q1" value="3" required>
                <span class="emoji-option">ğŸ˜•</span>
              </label>
              <label>
                <input type="radio" name="q1" value="4" required>
                <span class="emoji-option">ğŸ™‚</span>
              </label>
              <label>
                <input type="radio" name="q1" value="5" required>
                <span class="emoji-option">ğŸ˜„</span>
              </label>
              <label>
                <input type="radio" name="q1" value="6" required>
                <span class="emoji-option">ğŸ¤©</span>
              </label>
            </div>
          </div>
          <div class="question">
            <p><strong>2.</strong> Setiap bulan, saya meninjau pengeluaran pada kartu kredit dan debit saya.</p>
            <div class="scale" role="radiogroup" aria-labelledby="q2_label">
              <span id="q2_label" class="sr-only"></span>
              <label>
                <input type="radio" name="q2" value="1" required>
                <span class="emoji-option">ğŸ˜</span>
              </label>
              <label>
                <input type="radio" name="q2" value="2" required>
                <span class="emoji-option">ğŸ˜”</span>
              </label>
              <label>
                <input type="radio" name="q2" value="3" required>
                <span class="emoji-option">ğŸ˜•</span>
              </label>
              <label>
                <input type="radio" name="q2" value="4" required>
                <span class="emoji-option">ğŸ™‚</span>
              </label>
              <label>
                <input type="radio" name="q2" value="5" required>
                <span class="emoji-option">ğŸ˜„</span>
              </label>
              <label>
                <input type="radio" name="q2" value="6" required>
                <span class="emoji-option">ğŸ¤©</span>
              </label>
            </div>
          </div>
          <div class="question">
            <p><strong>3.</strong>Saya sangat memperhatikan keuangan pribadi saya.</p>
            <div class="scale" role="radiogroup" aria-labelledby="q3_label">
              <span id="q3_label" class="sr-only"></span>
              <label>
                <input type="radio" name="q3" value="1" required>
                <span class="emoji-option">ğŸ˜</span>
              </label>
              <label>
                <input type="radio" name="q3" value="2" required>
                <span class="emoji-option">ğŸ˜”</span>
              </label>
              <label>
                <input type="radio" name="q3" value="3" required>
                <span class="emoji-option">ğŸ˜•</span>
              </label>
              <label>
                <input type="radio" name="q3" value="4" required>
                <span class="emoji-option">ğŸ™‚</span>
              </label>
              <label>
                <input type="radio" name="q3" value="5" required>
                <span class="emoji-option">ğŸ˜„</span>
              </label>
              <label>
                <input type="radio" name="q3" value="6" required>
                <span class="emoji-option">ğŸ¤©</span>
              </label>
            </div>
          </div>
          <div class="question">
            <p><strong>4.</strong> Saya hampir mengetahui secara pasti jumlah total uang yang saya miliki di seluruh rekening bank dan investasi.</p>
            <div class="scale" role="radiogroup" aria-labelledby="q4_label">
              <span id="q4_label" class="sr-only"></span>
              <label>
                <input type="radio" name="q4" value="1" required>
                <span class="emoji-option">ğŸ˜</span>
              </label>
              <label>
                <input type="radio" name="q4" value="2" required>
                <span class="emoji-option">ğŸ˜”</span>
              </label>
              <label>
                <input type="radio" name="q4" value="3" required>
                <span class="emoji-option">ğŸ˜•</span>
              </label>
              <label>
                <input type="radio" name="q4" value="4" required>
                <span class="emoji-option">ğŸ™‚</span>
              </label>
              <label>
                <input type="radio" name="q4" value="5" required>
                <span class="emoji-option">ğŸ˜„</span>
              </label>
              <label>
                <input type="radio" name="q4" value="6" required>
                <span class="emoji-option">ğŸ¤©</span>
              </label>
            </div>
          </div>

          <h2 class="section-title">Penerimaan (Acceptance)</h2>
          <div class="question">
            <p><strong>5.</strong> Filsafat pengelolaan uang pribadi saya adalah â€œtetap tenang dan lanjutkan.â€</p>
            <div class="scale" role="radiogroup" aria-labelledby="q5_label">
              <span id="q5_label" class="sr-only"></span>
              <label>
                <input type="radio" name="q5" value="1" required>
                <span class="emoji-option">ğŸ˜</span>
              </label>
              <label>
                <input type="radio" name="q5" value="2" required>
                <span class="emoji-option">ğŸ˜”</span>
              </label>
              <label>
                <input type="radio" name="q5" value="3" required>
                <span class="emoji-option">ğŸ˜•</span>
              </label>
              <label>
                <input type="radio" name="q5" value="4" required>
                <span class="emoji-option">ğŸ™‚</span>
              </label>
              <label>
                <input type="radio" name="q5" value="5" required>
                <span class="emoji-option">ğŸ˜„</span>
              </label>
              <label>
                <input type="radio" name="q5" value="6" required>
                <span class="emoji-option">ğŸ¤©</span>
              </label>
            </div>
          </div>
          <div class="question">
            <p><strong>6.</strong> Saya tidak dapat melihat laporan kartu kredit atau debit saya tanpa emosi mengambil alih. (RC)</p>
            <div class="scale" role="radiogroup" aria-labelledby="q6_label">
              <span id="q6_label" class="sr-only"></span>
              <label>
                <input type="radio" name="q6" value="1" required>
                <span class="emoji-option">ğŸ˜</span>
              </label>
              <label>
                <input type="radio" name="q6" value="2" required>
                <span class="emoji-option">ğŸ˜”</span>
              </label>
              <label>
                <input type="radio" name="q6" value="3" required>
                <span class="emoji-option">ğŸ˜•</span>
              </label>
              <label>
                <input type="radio" name="q6" value="4" required>
                <span class="emoji-option">ğŸ™‚</span>
              </label>
              <label>
                <input type="radio" name="q6" value="5" required>
                <span class="emoji-option">ğŸ˜„</span>
              </label>
              <label>
                <input type="radio" name="q6" value="6" required>
                <span class="emoji-option">ğŸ¤©</span>
              </label>
            </div>
          </div>
          <div class="question">
            <p><strong>7.</strong> Jika saldo rekening bank saya tidak seperti yang saya inginkan, saya merasa sulit untuk fokus pada hal lain. (RC)</p>
            <div class="scale" role="radiogroup" aria-labelledby="q7_label">
              <span id="q7_label" class="sr-only"></span>
              <label>
                <input type="radio" name="q7" value="1" required>
                <span class="emoji-option">ğŸ˜</span>
              </label>
              <label>
                <input type="radio" name="q7" value="2" required>
                <span class="emoji-option">ğŸ˜”</span>
              </label>
              <label>
                <input type="radio" name="q7" value="3" required>
                <span class="emoji-option">ğŸ˜•</span>
              </label>
              <label>
                <input type="radio" name="q7" value="4" required>
                <span class="emoji-option">ğŸ™‚</span>
              </label>
              <label>
                <input type="radio" name="q7" value="5" required>
                <span class="emoji-option">ğŸ˜„</span>
              </label>
              <label>
                <input type="radio" name="q7" value="6" required>
                <span class="emoji-option">ğŸ¤©</span>
              </label>
            </div>
          </div>
          <div class="question">
            <p><strong>8.</strong> Ketika ada perubahan dalam kehidupan finansial saya, saya sering bereaksi secara tidak rasional atau tidak pantas. (RC)</p>
            <div class="scale" role="radiogroup" aria-labelledby="q8_label">
              <span id="q8_label" class="sr-only"></span>
              <label>
                <input type="radio" name="q8" value="1" required>
                <span class="emoji-option">ğŸ˜</span>
              </label>
              <label>
                <input type="radio" name="q8" value="2" required>
                <span class="emoji-option">ğŸ˜”</span>
              </label>
              <label>
                <input type="radio" name="q8" value="3" required>
                <span class="emoji-option">ğŸ˜•</span>
              </label>
              <label>
                <input type="radio" name="q8" value="4" required>
                <span class="emoji-option">ğŸ™‚</span>
              </label>
              <label>
                <input type="radio" name="q8" value="5" required>
                <span class="emoji-option">ğŸ˜„</span>
              </label>
              <label>
                <input type="radio" name="q8" value="6" required>
                <span class="emoji-option">ğŸ¤©</span>
              </label>
            </div>
          </div>

          <div class="flex-group">
            <button type="button" id="submitBtn">Lihat Hasil ğŸš€</button>
            <p class="small-text">Semua pertanyaan wajib diisi. âœ¨</p>
          </div>
        </form>
      </main>

    </div>

    <div id="result-page" class="page">
      <h1>Hasil Kuesioner Anda ğŸ‰</h1>
      <div class="result-icon"></div>
      <div id="score-display"></div>
      <div id="category-display"></div>
      <p id="category-description"></p>
      <button id="restartBtn" class="button">Kembali ke Awal</button>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const introPage = document.getElementById('intro-page');
      const quizPage = document.getElementById('quiz-page');
      const resultPage = document.getElementById('result-page');
      const startBtn = document.getElementById('startBtn');
      const submitBtn = document.getElementById('submitBtn');
      const restartBtn = document.getElementById('restartBtn');

      function showPage(pageId) {
        const pages = document.querySelectorAll('.page');
        pages.forEach(page => page.classList.remove('active'));
        document.getElementById(pageId).classList.add('active');
      }

      startBtn.addEventListener('click', function() {
        const nameInput = document.getElementById('name');
        const nrpInput = document.getElementById('nrp');
        const fakultasInput = document.getElementById('fakultas');
        const angkatanInput = document.getElementById('angkatan');

        if (nameInput.value.trim() === '' || nrpInput.value.trim() === '' || fakultasInput.value.trim() === '' || angkatanInput.value.trim() === '') {
          alert('Mohon lengkapi semua data diri terlebih dahulu.');
          return;
        }

        const hiddenNameInput = document.getElementById('hiddenNameInput');
        const hiddenNRPInput = document.getElementById('hiddenNRPInput');
        const hiddenFakultasInput = document.getElementById('hiddenFakultasInput');
        const hiddenAngkatanInput = document.getElementById('hiddenAngkatanInput');

        hiddenNameInput.value = nameInput.value;
        hiddenNRPInput.value = nrpInput.value;
        hiddenFakultasInput.value = fakultasInput.value;
        hiddenAngkatanInput.value = angkatanInput.value;

        showPage('quiz-page');
      });

      submitBtn.addEventListener('click', function(event) {
        const res = calculateTotal();
        if (!res.ok) {
          alert('Pertanyaan nomor ' + res.missing + ' belum dijawab.');
          return;
        }

        // Hitung total skor dan kategori
        const total = res.total;
        const category = interpret(total);
        
        // Masukkan total skor dan kategori ke dalam input tersembunyi
        document.getElementById('hiddenTotalScore').value = total;
        document.getElementById('hiddenCategory').value = category;

        // Tampilkan hasil ke pengguna
        document.getElementById('score-display').textContent = `Skor Total: ${total}`;
        const categoryDisplay = document.getElementById('category-display');
        const categoryDescription = document.getElementById('category-description');
        const resultIcon = document.querySelector('#result-page .result-icon');
        
        let description = "";
        if (category === "Mindfulness Keuangan: RENDAH") {
          description = "Hasil ini menunjukkan Anda mungkin memiliki kesadaran dan penerimaan yang rendah terhadap keuangan pribadi. Mulailah dengan membuat anggaran sederhana dan melacak pengeluaran untuk meningkatkan pemahaman Anda.";
          categoryDisplay.style.color = '#e74c3c';
          resultIcon.innerHTML = "ğŸ˜”";
        } else if (category === "Mindfulness Keuangan: SEDANG") {
          description = "Anda memiliki kesadaran dan penerimaan yang cukup baik, tetapi masih ada ruang untuk perbaikan. Coba luangkan waktu setiap bulan untuk meninjau laporan keuangan Anda dan identifikasi area yang bisa ditingkatkan.";
          categoryDisplay.style.color = '#f39c12';
          resultIcon.innerHTML = "ğŸ¤”";
        } else if (category === "Mindfulness Keuangan: TINGGI") {
          description = "Selamat! Anda menunjukkan tingkat kesadaran dan penerimaan yang tinggi terhadap keuangan pribadi. Pertahankan kebiasaan positif ini dan teruslah belajar untuk mencapai tujuan finansial Anda.";
          categoryDisplay.style.color = '#34a853';
          resultIcon.innerHTML = "ğŸ¥³";
        }
        categoryDisplay.textContent = category;
        categoryDescription.textContent = description;
        
        showPage('result-page');

        // Mengirim formulir secara asinkron (di latar belakang)
        const form = document.getElementById('quizForm');
        fetch(form.action, {
            method: 'POST',
            body: new FormData(form),
            headers: {
                'Accept': 'application/json'
            }
        }).then(response => {
            if (response.ok) {
                console.log('Form data successfully submitted.');
            } else {
                console.error('Form submission failed.');
            }
        }).catch(error => {
            console.error('An error occurred:', error);
        });
      });

      restartBtn.addEventListener('click', function() {
        document.getElementById('quizForm').reset();
        showPage('intro-page');
      });

      function getSelectedValue(name) {
        const el = document.querySelector('input[name="' + name + '"]:checked');
        return el ? parseInt(el.value, 10) : null;
      }

      function calculateTotal() {
        let total = 0;
        let rc_total = 0;
        const questions = ['q1', 'q2', 'q3', 'q4', 'q5', 'q6', 'q7', 'q8'];
        const reversedQuestions = ['q6', 'q7', 'q8'];
        const maxScore = 7; // Max score for each question

        for (let i = 0; i < questions.length; i++) {
          const q_name = questions[i];
          const v = getSelectedValue(q_name);
          if (v === null) return { ok: false, missing: i + 1 };

          if (reversedQuestions.includes(q_name)) {
            rc_total += (maxScore + 1 - v); // Reverse scoring logic for 7-point scale
          } else {
            total += v;
          }
        }
        const finalTotal = total + rc_total;
        return { ok: true, total: finalTotal };
      }

      function interpret(total) {
        // Adjust score ranges for the new 8-question, 7-point scale (total max score = 56)
        if (total <= 40) return "Mindfulness Keuangan: RENDAH";
        if (total <= 65 ) return "Mindfulness Keuangan: SEDANG";
        return "Mindfulness Keuangan: TINGGI";
      }
    });
  </script>
</body>
</html>